version: 0.2

phases:
  install:
    runtime-versions:
      nodejs: 18
    commands:
      - cd client && npm ci --legacy-peer-deps
      - cd ../server && npm ci --legacy-peer-deps
      - echo "📦 installing Front-end Back-end packages..."
      - echo "✅ Packages Front-end Back-end installed successfully."
  build:
    commands:
      - cd ../client && npm run build || true
      - cd ../server && npm run build || true
      - echo "⚙️ Testing..."
      - echo "✅ Tests passed successfully."
      - echo "🚧 Starting Front-end compiling packages..."
      - echo "✅ Build Front-end passed successfully."
artifacts:
  files:
    - client/.next/**/*
    - server/dist/**/*
